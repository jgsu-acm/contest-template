%!TEX program = xelatex
\documentclass[
	lang=cn,
	color=blue
]{elegantbook}
\usepackage{tabularx,booktabs} 
\usepackage{listings}
\usepackage{xr}
\usepackage{hyperref}
\externaldocument{../problem/problem}

\title{ACM算法与微应用开发实验室21届成员选拔赛题解}
\date{2021年11月6日}
\makeatletter
\renewcommand{\maketitle}{
	\begin{center}
		\LARGE
		\textbf{\@title} \par
		\normalsize
		\vspace{0.5cm}
		\@date
	\end{center}
}

\newcommand{\labeltext}[2]{
  \@bsphack
  \csname phantomsection\endcsname
  \def\@currentlabel{#1}{\label{#2}}
  \@esphack
}
\makeatother

\newcolumntype{M}{>{\centering\arraybackslash}X}

\newcommand{\solutiontab}[2]{
	\begin{tabularx}{#2}{M|M|M|M}
		\toprule
		\textbf{题目编号} & \textbf{题目名称} & \textbf{命题人} & \textbf{做法} \\
		\midrule
	\end{tabularx}

	\foreach \i in #1{
		\begin{tabularx}{#2}{M|M|M|M}
			\i & \ref*{pro:\i} & \ref*{aut:\i} & \ref*{ans:\i} \\
		\end{tabularx}

	}

	\begin{tabularx}{#2}{M|M|M|M}
		\toprule
	\end{tabularx}
}

\newcommand{\addsolution}[2]{
    \labeltext{#2}{ans:#1}
}

\newcommand{\solutionheader}[1]{
	\chapter*{#1.\quad \ref*{pro:#1}}
	\addcontentsline{toc}{chapter}{A.\ref*{pro:#1}}
}

\lstset{
    language=C++,
    basicstyle=\ttfamily,
    keywordstyle=\color{blue}\ttfamily,
    stringstyle=\color{brown}\ttfamily,
    commentstyle=\color{teal}\ttfamily,
    morecomment=[l][\color{brown}]{\#},
    showstringspaces=false
}

\hypersetup{
    colorlinks=true,
	urlcolor=blue
}

\begin{document}
\addsolution{A}{模拟}

\begin{titlepage}
    \maketitle
    \section*{题目概览}
    \solutiontab{{A}}{450pt}
\end{titlepage}

\solutionheader{A}
\section*{做法}
\verb|cout|

\section*{标程}
\begin{lstlisting}
#include <iostream>
using namespace std;
int main()
{
    int a,b;
    cin>>a>>b;
    cout<<a+b<<endl;
    return 0;
}
\end{lstlisting}

\end{document}